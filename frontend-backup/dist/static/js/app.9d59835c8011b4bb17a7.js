webpackJsonp([1],{"+Qsz":function(t,e,n){"use strict";e.a={mounted:function(){console.log(this.$router)}}},"+Yxn":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",[t._v("Welcome!")]),t._v("\n  You can "),n("router-link",{attrs:{to:"register"}},[t._v("Register")]),t._v("\n  or\n  "),n("router-link",{attrs:{to:"login"}},[t._v("Login")])],1)},a=[],r={render:s,staticRenderFns:a};e.a=r},"3jL2":function(t,e,n){"use strict";var s=n("Ajl1"),a=n("gmAQ"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},"6x3Y":function(t,e,n){"use strict";var s=n("NYxO");e.a={computed:Object(s.b)(["user"])}},"91i/":function(t,e,n){"use strict";var s=n("NYxO");e.a={computed:Object(s.b)(["isLogged","user"]),methods:{logout:function(){this.$store.dispatch("logout"),this.$router.push({name:"welcome"})}}}},Ajl1:function(t,e,n){"use strict";var s=n("MFsc");e.a={data:function(){return{username:"",password:"",error:"",pending:!1}},methods:{makeLogin:function(t){var e=this;t.preventDefault(),this.pending=!0,this.$store.dispatch("login",this).then(function(){e.pending=!1,e.$router.push({name:"home"})}).catch(function(t){e.pending=!1,e.error=t})}},components:{card:s.a}}},D5cn:function(t,e,n){"use strict";var s=n("6x3Y"),a=n("vA96"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},DeUB:function(t,e,n){"use strict";var s=n("+Qsz"),a=n("+Yxn"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},"Du/2":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return a});var s="USER_AUTH_SUCCESS",a="USER_LOGOUT"},GNuD:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"columns"},[n("div",{staticClass:"column is-4 is-offset-4"},[n("card",{attrs:{title:"Register",icon:"user-plus"}},[n("form",{on:{submit:t.makeRegister}},[n("b-field",{attrs:{label:"First Name"}},[n("b-input",{attrs:{type:"text",maxlength:"30",required:"","has-counter":!0},model:{value:t.first_name,callback:function(e){t.first_name=e},expression:"first_name"}})],1),t._v(" "),n("b-field",{attrs:{label:"Last Name"}},[n("b-input",{attrs:{type:"text",maxlength:"30",required:"","has-counter":!0},model:{value:t.last_name,callback:function(e){t.last_name=e},expression:"last_name"}})],1),t._v(" "),n("b-field",{attrs:{label:"Email"}},[n("b-input",{attrs:{type:"email",icon:"envelope",required:""},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}})],1),t._v(" "),n("div",{staticClass:"columns"},[n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Password"}},[n("b-input",{staticClass:"is-half",attrs:{type:"password",icon:"key",minlength:"6",required:"",maxlength:"20","has-counter":!1,"password-reveal":""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}})],1)],1),t._v(" "),n("div",{staticClass:"column"},[n("b-field",{attrs:{label:"Confirm Password"}},[n("b-input",{attrs:{type:"password",icon:"key",minlength:"6",required:"",maxlength:"20","has-counter":!1,"password-reveal":""},model:{value:t.cpassword,callback:function(e){t.cpassword=e},expression:"cpassword"}})],1)],1)]),t._v(" "),n("div",{staticClass:"has-text-danger has-text-centered"},[t._v(t._s(t.error))]),t._v(" "),n("button",{class:["button","is-primary","is-fullwidth",{"is-loading":t.pending}],attrs:{type:"submit"}},[t._v("Register")])],1)])],1)])},a=[],r={render:s,staticRenderFns:a};e.a=r},I2Tb:function(t,e,n){"use strict";var s=n("PouT"),a=n("f/Cn"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},IcnI:function(t,e,n){"use strict";var s=n("7+uW"),a=n("NYxO"),r=n("bREw");s.default.use(a.a),e.a=new a.a.Store({strict:!0,modules:{user:r.a}})},M93x:function(t,e,n){"use strict";function s(t){n("lQOE")}var a=n("xJD8"),r=n("fTnn"),i=n("VU/8"),o=s,c=i(a.a,r.a,!1,o,null,null);e.a=c.exports},MFsc:function(t,e,n){"use strict";var s=n("YnX1"),a=n("zoCr"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=n("7+uW"),a=n("3EgV"),r=n.n(a),i=n("M93x"),o=n("YaEn"),c=n("9JMe"),u=(n.n(c),n("IcnI"));s.default.use(r.a),s.default.config.productionTip=!1,Object(c.sync)(u.a,o.a),window.a=new s.default({el:"#app",store:u.a,router:o.a,template:"<App/>",components:{App:i.a}})},PouT:function(t,e,n){"use strict";var s=n("NYxO");e.a={computed:Object(s.b)(["user"])}},QmSG:function(t,e,n){"use strict";var s="http://localhost:8000/";e.a={API:{LOGIN:s+"api-token-auth/",REGISTER:s+"user/register"}}},SaQH:function(t,e,n){"use strict";var s=n("wRA1"),a=n("GNuD"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},YaEn:function(t,e,n){"use strict";var s=n("7+uW"),a=n("/ocq"),r=n("IcnI"),i=n("3jL2"),o=n("SaQH"),c=n("DeUB"),u=n("I2Tb"),l=n("D5cn");s.default.use(a.a);var d=new a.a({linkActiveClass:"is-active",routes:[{path:"/",name:"home",component:u.a,meta:{auth:!0}},{path:"/profile",name:"profile",component:l.a,meta:{auth:!0}},{path:"/welcome",name:"welcome",component:c.a},{path:"/login",name:"Login",component:i.a},{path:"/register",name:"Register",component:o.a}]});d.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.auth})?r.a.getters.isLogged?n():n({path:"/welcome"}):n()}),e.a=d},YnX1:function(t,e,n){"use strict";e.a={props:["title","icon"]}},Ytus:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-toolbar",[n("v-toolbar-side-icon"),t._v(" "),n("v-toolbar-title",[n("v-img",{attrs:{src:"/assets/logo.png"}}),t._v("\n     Title\n   ")],1),t._v(" "),n("v-spacer"),t._v(" "),t.isLogged?n("span",[t._v(" Welcome, "),n("b",[t._v(" "+t._s(t.user.email)+" ")])]):t._e(),t._v(" "),n("v-toolbar-items",{staticClass:"hidden-sm-and-down"},[t.isLogged?t._e():n("v-btn",{attrs:{flat:"",to:"login"}},[t._v("Login")]),t._v(" "),t.isLogged?n("v-btn",{attrs:{flat:"",to:"logout"}},[t._v("Logout")]):t._e(),t._v(" "),n("v-btn",{attrs:{flat:""}},[t._v("Link Two")]),t._v(" "),n("v-btn",{attrs:{flat:""}},[t._v("Link Three")])],1)],1)},a=[],r={render:s,staticRenderFns:a};e.a=r},bREw:function(t,e,n){"use strict";var s,a=n("bOdI"),r=n.n(a),i=n("mvHQ"),o=n.n(i),c=n("//Fk"),u=n.n(c),l=n("mtWM"),d=n.n(l),v=n("QmSG"),m=n("Du/2"),f={token:sessionStorage.getItem("token")||"",user:JSON.parse(sessionStorage.getItem("user"))||{}},p={isLogged:function(t){return!!t.token},user:function(t){return t.user}},_={login:function(t,e){var n=e.username,s=e.password;return new u.a(function(e,a){d.a.post(v.a.API.LOGIN,{username:n,password:s}).then(function(n){var s=n.data;s.token?(t.commit(m.a,{user:s.user,token:s.token}),e()):a(s.message)}).catch(function(){a("Error sending request to server!")})})},register:function(t,e){var n=e.first_name,s=e.last_name,a=e.email,r=e.password,i=e.cpassword;return new u.a(function(e,o){r!==i&&o(new Error("Passwords do not match")),d.a.post(v.a.API.REGISTER,{first_name:n,last_name:s,email:a,password:r}).then(function(e){var n=e.data;n.success?t.commit(m.a):o(n.message)}).catch(function(t){o(t)})})},logout:function(t){t.commit(m.b)}},h=(s={},r()(s,m.a,function(t,e){var n=e.user,s=e.token;t.user=n,t.error="",t.token=s,sessionStorage.setItem("token",s),sessionStorage.setItem("user",o()(n))}),r()(s,m.b,function(t){t.user={},t.token="",sessionStorage.clear()}),s);e.a={state:f,getters:p,actions:_,mutations:h}},"f/Cn":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("h1",{staticClass:"is-size-1 has-text-centered"},[t._v("Welcome home, "+t._s(t.user.username)+"!")])])},a=[],r={render:s,staticRenderFns:a};e.a=r},fTnn:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("navbar"),t._v(" "),n("div",{staticClass:"container"},[n("router-view")],1)],1)},a=[],r={render:s,staticRenderFns:a};e.a=r},gmAQ:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-form",[n("v-container",[n("v-flex",{attrs:{xs12:"",md4:""}},[n("v-text-field",{attrs:{label:"Username","append-icon":"face",placeholder:"Username"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),t._v(" "),n("v-text-field",{attrs:{label:"Password","append-icon":"lock",placeholder:"Password",type:"password"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),n("div",{staticClass:"has-text-danger has-text-centered"},[t._v(t._s(t.error))]),t._v(" "),n("v-btn",{on:{click:t.makeLogin}},[t._v("Login")])],1)],1)],1)},a=[],r={render:s,staticRenderFns:a};e.a=r},lQOE:function(t,e){},ntvM:function(t,e,n){"use strict";var s=n("91i/"),a=n("Ytus"),r=n("VU/8"),i=r(s.a,a.a,!1,null,null,null);e.a=i.exports},vA96:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"box"},[n("h1",{staticClass:"is-size-1"},[t._v(t._s(t.user.first_name)+" "+t._s(t.user.last_name))]),t._v(" "),n("p",[t._v("Email: "),n("em",[t._v(t._s(t.user.email))])])])},a=[],r={render:s,staticRenderFns:a};e.a=r},wRA1:function(t,e,n){"use strict";var s=n("MFsc");e.a={data:function(){return{first_name:"",last_name:"",email:"",password:"",cpassword:"",pending:!1,error:""}},methods:{makeRegister:function(t){var e=this;t.preventDefault(),this.pending=!0,this.$store.dispatch("register",this).then(function(){e.pending=!1,e.$router.push({name:"home"})}).catch(function(t){e.error=t,e.pending=!1})}},components:{card:s.a}}},xJD8:function(t,e,n){"use strict";var s=n("ntvM");e.a={name:"app",components:{navbar:s.a}}},zoCr:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card"},[n("div",{staticClass:"card-header"},[n("div",{staticClass:"card-header-title"},[t._v("\n      "+t._s(t.title)+"\n    ")]),t._v(" "),n("div",{staticClass:"card-header-icon"},[n("i",{class:"fa fa-"+t.icon})])]),t._v(" "),n("div",{staticClass:"card-content"},[t._t("default")],2),t._v(" "),t.$slots.footer?n("div",{staticClass:"card-footer"},[n("div",{staticClass:"card-footer-item"},[t._t("footer")],2)]):t._e()])},a=[],r={render:s,staticRenderFns:a};e.a=r}},["NHnr"]);
//# sourceMappingURL=app.9d59835c8011b4bb17a7.js.map